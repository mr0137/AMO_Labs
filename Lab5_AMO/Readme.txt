Лабораторная не полностью верна.
...............................
Комментарий от Зорина:
Forbidden
double t = (2 * x - A - B) / (B - A);
...............................